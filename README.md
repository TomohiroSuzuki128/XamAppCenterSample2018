# ã¯ã˜ã‚ã« #
ã€€  
App Center ã§è‡ªå‹•ãƒ“ãƒ«ãƒ‰ã€UIãƒ†ã‚¹ãƒˆãŒè©¦ã›ã‚‹ iOS, Android ã®ã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã§ã™ã€‚
ã€€  
Cognitive Services ã® Translator Text API ã‚’åˆ©ç”¨ã—ã¦ã€å…¥åŠ›ã—ãŸæ—¥æœ¬èªã‚’è‹±èªã«ç¿»è¨³ã—ã¦ãã‚Œã¾ã™ã€‚
ã€€  
## iOS ##
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/iPhone.png?raw=true)
ã€€  
## Android ##
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/Android.png?raw=true)
ã€€  
ã€€  
# å¿…è¦ç’°å¢ƒ #
ã€€  
## iOS,Android è‡ªå‹•ãƒ“ãƒ«ãƒ‰ ##
- Visual Studio for Mac ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸMac
- Azure ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- App Center ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
ã€€  
### iOSã§å®Ÿæ©Ÿãƒ“ãƒ«ãƒ‰ã™ã‚‹å ´åˆ ###
- Apple Developer Program ã¸ã®åŠ å…¥å¿…è¦
ã€€  
## iOS UIãƒ†ã‚¹ãƒˆ ##
- iOS11 ä»¥ä¸Šã® iPhone å®Ÿæ©Ÿ
- Apple Developer Program ã¸ã®åŠ å…¥ã¯ä¸è¦
ã€€  
## Android UIãƒ†ã‚¹ãƒˆ ##
- ï¼ˆå¿…é ˆã§ã¯ãªã„ãŒã‚ã‚‹ã¨æœ›ã¾ã—ã„ï¼‰ Android 7.0 ä»¥ä¸Šã® Android å®Ÿæ©Ÿ
ã€€  
ã€€  
# ã‚¢ãƒ—ãƒªã®ä½œæˆ #
ã€€  
ã€€  
## Cognitive Services ã® Translator Text API ä½œæˆ ##
ã€€  
Azure ãƒãƒ¼ã‚¿ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã€ã€Œæ–°è¦ã€ -> ã€Œtranslateã€ ã§æ¤œç´¢ã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/001.png?raw=true)
ã€€  
ã€€  
Translator Text API ã‚’é¸æŠã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/002.png?raw=true)
ã€€  
ã€€  
ã€Œä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ 
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/003.png?raw=true)
ã€€  
ã€€  
é …ç›®ã‚’å…¥åŠ›ã—ã¦ã€Œä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ 
ä¾¡æ ¼ãƒ¬ãƒ™ãƒ«ã¯å¿…ãšã€ŒF0ã€ï¼ˆç„¡æ–™ï¼‰ã«ã—ã¦ãã ã•ã„ï¼
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/004.png?raw=true)
ã€€  
ã€€  
ä½œæˆã—ãŸ Translator Text API ã‚’é–‹ã„ã¦ Key ã‚’ã‚³ãƒ”ãƒ¼ã—ä¿ç®¡ã—ã¦ãŠã„ã¦ä¸‹ã•ã„ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/005.png?raw=true)
ã€€  
ã€€  
## ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ã ## 
  
https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/  
ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ clone ã¾ãŸã¯ zip ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚
ã€€  
ã€€  
/src/Start/XamAppCenterSample2018.sln ã‚’é–‹ãã¾ã™ã€‚
ã€€  
ã€€  
## API Key ã®è¨˜è¿° ##   
ã€€  
ã€€  
/XamAppCenterSample2018/Variables.cs ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã¾ã™ã€‚  

å…ˆã»ã©ä½œæˆã—ãŸ API ã® Key ã‚’è¨˜è¿°ã—ã¾ã™ã€‚

æ³¨æ„ï¼šAPI Key ã‚’è¨˜è¿°ã—ãŸã‚½ãƒ¼ã‚¹ã‚’ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãªãƒªãƒã‚¸ãƒˆãƒªã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„ã§ä¸‹ã•ã„ã€‚

 ![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/api_key001.png?raw=true)   
ã€€  
ã€€  
## ViewModel ã®ä½œæˆ ## 

ã¾ãšã€ViewModel ã‚’ä½œæˆã—ã¾ã—ã‚‡ã†ã€‚

/XamAppCenterSample2018/ViewModels/MainViewModel.cs ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

ã¾ãšã¯ã€using ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```csharp
using MvvmCross.Commands;
using MvvmCross.ViewModels;
using XamAppCenterSample2018.Services.Interfaces;
```
ã€€  
ã€€  
MainViewModel ã‚’ MvxViewModel ã®æ´¾ç”Ÿã¨ã—ã¾ã™ã€‚

```csharp
    public class MainViewModel : MvxViewModel
```
ã€€  
ã€€  
ç”»é¢ã«ã¯ã€ã€Œç¿»è¨³ã—ãŸã„æ—¥æœ¬èªå…¥åŠ›æ¬„ã€ã€Œç¿»è¨³ã•ã‚ŒãŸè‹±èªè¡¨ç¤ºæ¬„ã€ã€Œè‹±èªã«ç¿»è¨³ã™ã‚‹ãƒœã‚¿ãƒ³ã€ã®è¦ç´ ãŒã‚ã‚Šã¾ã™ã€‚  
ã“ã‚Œã‚‰ã‚’å…¥åŠ›æ¬„ã€è¡¨ç¤ºæ¬„ã¯ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€ãƒœã‚¿ãƒ³ã¯ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦å®Ÿè£…ã—ã¦ãã¾ã™ã€‚

```csharp
        string inputText = string.Empty;
        public string InputText
        {
            get => inputText;
            set => SetProperty(ref inputText, value);
        }

        string translatedText = string.Empty;
        public string TranslatedText
        {
            get => translatedText;
            set => SetProperty(ref translatedText, value);
        } 

        public IMvxAsyncCommand TranslateCommand { get; private set; }
```
ã€€  
ã€€  
ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ã‚³ãƒãƒ³ãƒ‰ã®å‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã™ã€‚  
DI ã•ã‚ŒãŸ Service ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

```csharp
        public MainViewModel(ITranslateService translateService) : base()
        {
            TranslateCommand = new MvxAsyncCommand(async () =>
            {
                TranslatedText = await translateService.Translate(InputText);
            });
        }
```
ã€€  
ã€€  
ã“ã‚Œã§ã€ViewModelã¯å®Œæˆã§ã™ã€‚  
å®Œæˆã—ãŸã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```csharp
using MvvmCross.Commands;
using MvvmCross.ViewModels;
using XamAppCenterSample2018.Services.Interfaces;

namespace XamAppCenterSample2018.ViewModels
{
    public class MainViewModel : MvxViewModel
    {
        string inputText = string.Empty;
        public string InputText
        {
            get => inputText;
            set => SetProperty(ref inputText, value);
        }

        string translatedText = string.Empty;
        public string TranslatedText
        {
            get => translatedText;
            set => SetProperty(ref translatedText, value);
        } 

        public IMvxAsyncCommand TranslateCommand { get; private set; }

        public MainViewModel(ITranslateService translateService) : base()
        {
            TranslateCommand = new MvxAsyncCommand(async () =>
            {
                TranslatedText = await translateService.Translate(InputText);
            });
        }

    }
}
```
ã€€  
ã€€  
ã€€  
## iOS ã® ãƒãƒ³ãƒ‰ãƒ«è­˜åˆ¥å­ ã®è¨­å®š ## 
ã€€  
ã€€  
iOS ã®ã‚¢ãƒ—ãƒªã® ãƒãƒ³ãƒ‰ãƒ«è­˜åˆ¥å­ ã‚’å¾¡è‡ªèº«ã®å›ºæœ‰ã®ã‚‚ã®ã«å¤‰æ›´ã—ã¦ä¸‹ã•ã„ã€‚
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å ã¯ XamAppCenterSample2018 ã«ã—ã¦ä¸‹ã•ã„ã€‚
- ãƒãƒ³ãƒ‰ãƒ«è­˜åˆ¥å­ã® Organization Identifier ã®éƒ¨åˆ†ã¯å…¨ä¸–ç•Œã§å›ºæœ‰ã¨ãªã‚‹ã‚ˆã†ãªæ–‡å­—åˆ—ã«ã—ã¦ä¸‹ã•ã„ã€‚
ã€€  
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/test002.png?raw=true)
ã€€  
ã€€  
## iOS ã® View ã®ä½œæˆ ## 
ã€€  
iOS ã® View ã‚’ä½œæˆã—ã¾ã™ã€‚  

storyboradã€xib ã¯ã€IDEã«ã‚ˆã£ã¦æ›´æ–°éƒ¨åˆ†ä»¥å¤–ã‚‚å‹æ‰‹ã«ã‚³ãƒ¼ãƒ‰ãŒæ›´æ–°ã•ã‚Œã€ Git ã¨ã®ç›¸æ€§ãŒæ‚ªã„ã®ã§ã€ä»Šå›ã¯ã‚³ãƒ¼ãƒ‰ã§ UI ã‚’è¨˜è¿°ã—ã¾ã™ã€‚  

/OS/Views/MainView.cs ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚  
ã€€  
ã€€  
ã¾ãšã¯ã€using ã‚’è¿½åŠ ã—ã¾ã™ã€‚  

```csharp
using System;
using UIKit;
using Foundation;
using CoreGraphics;
using MvvmCross.Binding.BindingContext;
using MvvmCross.Platforms.Ios.Presenters.Attributes;
using MvvmCross.Platforms.Ios.Views;
using XamAppCenterSample2018.ViewModels;
```
ã€€  
ã€€  
MainView ã‚’ MvxViewController<MainViewModel> ã®æ´¾ç”Ÿã¨ã—ã€å±æ€§ã‚’è¨­å®šã—ã¾ã™ã€‚

```csharp
    [Register("MainView")]
    [MvxRootPresentation(WrapInNavigationController = false)]
    public class MainView : MvxViewController<MainViewModel>
```
ã€€  
ã€€  
ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚„ UI ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å®šç¾©ã—ã¾ã™ã€‚

```csharp
        static readonly nfloat fontSize = 20;

        UILabel inputLabel;
        UITextView inputText;
        UIButton translateButton;
        UILabel translatedLabel;
        UITextView translatedText;
```  
ã€€  
ã€€  
UI ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã‚’åˆæœŸè¨­å®šã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ã¾ã™ã€‚

```csharp
        void InitUI()
        {
        }
```  
ã€€  
ã€€  
InitUI ã®ä¸­ã« UI ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã®è¨­å®šå€¤ã‚’è¨˜è¿°ã—ã¦ã„ãã¾ã™ã€‚  
ç”»é¢ã«ã¯ã€ã€Œç¿»è¨³ã—ãŸã„æ—¥æœ¬èªã®ãƒ©ãƒ™ãƒ«ã€ã€Œç¿»è¨³ã—ãŸã„æ—¥æœ¬èªã®å…¥åŠ›æ¬„ã€ã€Œç¿»è¨³ã•ã‚ŒãŸè‹±èªã®ãƒ©ãƒ™ãƒ«ã€ã€Œç¿»è¨³ã•ã‚ŒãŸè‹±èªã®è¡¨ç¤ºæ¬„ã€ã€Œè‹±èªã«ç¿»è¨³ã™ã‚‹ãƒœã‚¿ãƒ³ã€ã®è¦ç´ ãŒã‚ã‚Šã¾ã™ã€‚
ã€€  
ã€€  
MainView è‡ªä½“ã®è¨­å®šå€¤ã§ã™ã€‚

```csharp
            View.ContentMode = UIViewContentMode.ScaleToFill;
            View.LayoutMargins = new UIEdgeInsets(0, 16, 0, 16);
            View.Frame = new CGRect(0, 0, 375, 667);
            View.BackgroundColor = UIColor.White;
            View.AutoresizingMask = UIViewAutoresizing.FlexibleWidth | UIViewAutoresizing.FlexibleHeight;
``` 
ã€€  
ã€€  
ã€Œç¿»è¨³ã—ãŸã„æ—¥æœ¬èªãƒ©ãƒ™ãƒ«ã€inputLabel ã®è¨­å®šå€¤ã¨ View ã¸ã®è¿½åŠ ã€åˆ¶ç´„ã®è¨­å®šã§ã™ã€‚

```csharp
            inputLabel = new UILabel
            {
                Frame = new CGRect(0, 0, 375, 20),
                Opaque = false,
                UserInteractionEnabled = false,
                ContentMode = UIViewContentMode.Left,
                Text = "ç¿»è¨³ã—ãŸã„æ—¥æœ¬èª",
                TextAlignment = UITextAlignment.Left,
                LineBreakMode = UILineBreakMode.TailTruncation,
                Lines = 0,
                BaselineAdjustment = UIBaselineAdjustment.AlignBaselines,
                AdjustsFontSizeToFitWidth = false,
                TranslatesAutoresizingMaskIntoConstraints = false,
                Font = UIFont.SystemFontOfSize(fontSize),
            };
            View.AddSubview(inputLabel);

            inputLabel.HeightAnchor.ConstraintEqualTo(20).Active = true;
            inputLabel.CenterXAnchor.ConstraintEqualTo(View.CenterXAnchor).Active = true;

            inputLabel.TopAnchor.ConstraintEqualTo(View.TopAnchor, 70).Active = true;
            inputLabel.LeftAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.LeftAnchor).Active = true;
            inputLabel.RightAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.RightAnchor).Active = true;
```  
ã€€  
ã€€  
ã€Œç¿»è¨³ã—ãŸã„æ—¥æœ¬èªã®å…¥åŠ›æ¬„ã€inputText ã®è¨­å®šå€¤ã¨ View ã¸ã®è¿½åŠ ã€åˆ¶ç´„ã®è¨­å®šã§ã™ã€‚

```csharp
            inputText = new UITextView
            {
                Frame = new CGRect(0, 0, 375, 200),
                ContentMode = UIViewContentMode.ScaleToFill,
                TranslatesAutoresizingMaskIntoConstraints = false,
                KeyboardType = UIKeyboardType.Twitter,
                Font = UIFont.SystemFontOfSize(fontSize),
                AccessibilityIdentifier = "inputText",
            };

            inputText.Layer.BorderWidth = 1;
            inputText.Layer.BorderColor = UIColor.LightGray.CGColor;

            View.AddSubview(inputText);

            inputText.HeightAnchor.ConstraintEqualTo(View.HeightAnchor, 0.3f).Active = true;
            inputText.CenterXAnchor.ConstraintEqualTo(View.CenterXAnchor).Active = true;

            inputText.TopAnchor.ConstraintEqualTo(inputLabel.BottomAnchor, 5).Active = true;
            inputText.LeftAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.LeftAnchor).Active = true;
            inputText.RightAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.RightAnchor).Active = true;
```  
ã€€  
ã€€  
å…¥åŠ›å®Œäº†æ™‚ã«ã‚½ãƒ•ãƒˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã®è¨­å®šã§ã™ã€‚

```csharp
            var toolBar = new UIToolbar
            {
                BarStyle = UIBarStyle.Default,
                TranslatesAutoresizingMaskIntoConstraints = false,
            };
            toolBar.HeightAnchor.ConstraintEqualTo(40).Active = true;
            toolBar.WidthAnchor.ConstraintEqualTo(View.Frame.Width).Active = true;

            var spacer = new UIBarButtonItem(UIBarButtonSystemItem.FlexibleSpace);
            var commitButton = new UIBarButtonItem(UIBarButtonSystemItem.Done);

            commitButton.Clicked += (s, e) => View.EndEditing(true);
            toolBar.SetItems(new UIBarButtonItem[] { spacer, commitButton }, false);
            inputText.InputAccessoryView = toolBar;
```  
ã€€  
ã€€  
ã€Œè‹±èªã«ç¿»è¨³ã™ã‚‹ãƒœã‚¿ãƒ³ã€translateButton ã®è¨­å®šå€¤ã¨ View ã¸ã®è¿½åŠ ã€åˆ¶ç´„ã®è¨­å®šã§ã™ã€‚

```csharp
            translateButton = new UIButton(UIButtonType.RoundedRect)
            {
                Frame = new CGRect(0, 0, 375, 20),
                Opaque = false,
                ContentMode = UIViewContentMode.ScaleToFill,
                HorizontalAlignment = UIControlContentHorizontalAlignment.Center,
                VerticalAlignment = UIControlContentVerticalAlignment.Center,
                LineBreakMode = UILineBreakMode.MiddleTruncation,
                TranslatesAutoresizingMaskIntoConstraints = false,
                Font = UIFont.SystemFontOfSize(fontSize),
                AccessibilityIdentifier = "translateButton",
            };

            translateButton.SetTitle("è‹±èªã«ç¿»è¨³ã™ã‚‹", UIControlState.Normal);
            View.AddSubview(translateButton);

            translateButton.HeightAnchor.ConstraintEqualTo(40f).Active = true;
            translateButton.CenterXAnchor.ConstraintEqualTo(View.CenterXAnchor).Active = true;

            translateButton.TopAnchor.ConstraintEqualTo(inputText.BottomAnchor, 20).Active = true;
            translateButton.LeftAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.LeftAnchor).Active = true;
            translateButton.RightAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.RightAnchor).Active = true;
```  
ã€€  
ã€€  
ã€Œç¿»è¨³ã•ã‚ŒãŸè‹±èªã®ãƒ©ãƒ™ãƒ«ã€translatedLabel ã®è¨­å®šå€¤ã¨ View ã¸ã®è¿½åŠ ã€åˆ¶ç´„ã®è¨­å®šã§ã™ã€‚

```csharp
            translatedLabel = new UILabel
            {
                Frame = new CGRect(0, 0, 375, 20),
                Opaque = false,
                UserInteractionEnabled = false,
                ContentMode = UIViewContentMode.Left,
                Text = "ç¿»è¨³ã•ã‚ŒãŸè‹±èª",
                TextAlignment = UITextAlignment.Left,
                LineBreakMode = UILineBreakMode.TailTruncation,
                Lines = 0,
                BaselineAdjustment = UIBaselineAdjustment.AlignBaselines,
                AdjustsFontSizeToFitWidth = false,
                TranslatesAutoresizingMaskIntoConstraints = false,
                Font = UIFont.SystemFontOfSize(fontSize),
            };
            View.AddSubview(translatedLabel);

            translatedLabel.HeightAnchor.ConstraintEqualTo(20).Active = true;
            translatedLabel.CenterXAnchor.ConstraintEqualTo(View.CenterXAnchor).Active = true;

            translatedLabel.TopAnchor.ConstraintEqualTo(translateButton.BottomAnchor, 20).Active = true;
            translatedLabel.LeftAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.LeftAnchor).Active = true;
            translatedLabel.RightAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.RightAnchor).Active = true;

```  
ã€€  
ã€€  
ã€Œç¿»è¨³ã•ã‚ŒãŸè‹±èªã®è¡¨ç¤ºæ¬„ã€translatedText ã®è¨­å®šå€¤ã¨ View ã¸ã®è¿½åŠ ã€åˆ¶ç´„ã®è¨­å®šã§ã™ã€‚

```csharp
            translatedText = new UITextView
            {
                Frame = new CGRect(0, 0, 375, 200),
                ContentMode = UIViewContentMode.ScaleToFill,
                TranslatesAutoresizingMaskIntoConstraints = false,
                Font = UIFont.SystemFontOfSize(fontSize),
                AccessibilityIdentifier = "translatedText",
                Editable = false,
            };

            translatedText.Layer.BorderWidth = 1;
            translatedText.Layer.BorderColor = UIColor.LightGray.CGColor;

            View.AddSubview(translatedText);

            translatedText.HeightAnchor.ConstraintEqualTo(View.HeightAnchor, 0.3f).Active = true;
            translatedText.CenterXAnchor.ConstraintEqualTo(View.CenterXAnchor).Active = true;

            translatedText.TopAnchor.ConstraintEqualTo(translatedLabel.BottomAnchor, 5).Active = true;
            translatedText.LeftAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.LeftAnchor).Active = true;
            translatedText.RightAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.RightAnchor).Active = true;

``` 
ã€€  
ã€€  
ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¨­å®šã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚

```csharp
        void SetBinding()
        {
            var set = this.CreateBindingSet<MainView, MainViewModel>();

            set.Bind(inputText).To(vm => vm.InputText);
            set.Bind(translatedText).To(vm => vm.TranslatedText);
            set.Bind(translateButton).To(vm => vm.TranslateCommand);

            set.Apply();
        }

```  
ã€€  
ã€€  
ViewDidLoad ã§ InitUI, SetBindingã‚’ã‚³ãƒ¼ãƒ«ã—ã¾ã™ã€‚

```csharp
        public override void ViewDidLoad()
        {
            base.ViewDidLoad();

            InitUI();
            SetBinding();
        }
```  
ã€€  
ã€€  
ã“ã‚Œã§ã€iOS ã® View ã¯å®Œæˆã§ã™ã€‚
å®Œæˆã—ãŸã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```csharp
using System;
using UIKit;
using Foundation;
using CoreGraphics;
using MvvmCross.Binding.BindingContext;
using MvvmCross.Platforms.Ios.Presenters.Attributes;
using MvvmCross.Platforms.Ios.Views;
using XamAppCenterSample2018.ViewModels;

namespace XamAppCenterSample2018.iOS.Views
{
    [Register("MainView")]
    [MvxRootPresentation(WrapInNavigationController = false)]
    public class MainView : MvxViewController<MainViewModel>
    {
		static readonly nfloat fontSize = 20;

        UILabel inputLabel;
        UITextView inputText;
        UIButton translateButton;
        UILabel translatedLabel;
        UITextView translatedText;

        public override void ViewDidLoad()
        {
            base.ViewDidLoad();

            InitUI();
            SetBinding();
        }

        void InitUI()
        {
            View.ContentMode = UIViewContentMode.ScaleToFill;
            View.LayoutMargins = new UIEdgeInsets(0, 16, 0, 16);
            View.Frame = new CGRect(0, 0, 375, 667);
            View.BackgroundColor = UIColor.White;
            View.AutoresizingMask = UIViewAutoresizing.FlexibleWidth | UIViewAutoresizing.FlexibleHeight;

            inputLabel = new UILabel
            {
                Frame = new CGRect(0, 0, 375, 20),
                Opaque = false,
                UserInteractionEnabled = false,
                ContentMode = UIViewContentMode.Left,
                Text = "ç¿»è¨³ã—ãŸã„æ—¥æœ¬èª",
                TextAlignment = UITextAlignment.Left,
                LineBreakMode = UILineBreakMode.TailTruncation,
                Lines = 0,
                BaselineAdjustment = UIBaselineAdjustment.AlignBaselines,
                AdjustsFontSizeToFitWidth = false,
                TranslatesAutoresizingMaskIntoConstraints = false,
                Font = UIFont.SystemFontOfSize(fontSize),
            };
            View.AddSubview(inputLabel);

            inputLabel.HeightAnchor.ConstraintEqualTo(20).Active = true;
            inputLabel.CenterXAnchor.ConstraintEqualTo(View.CenterXAnchor).Active = true;

            inputLabel.TopAnchor.ConstraintEqualTo(View.TopAnchor, 70).Active = true;
            inputLabel.LeftAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.LeftAnchor).Active = true;
            inputLabel.RightAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.RightAnchor).Active = true;

            inputText = new UITextView
            {
                Frame = new CGRect(0, 0, 375, 200),
                ContentMode = UIViewContentMode.ScaleToFill,
                TranslatesAutoresizingMaskIntoConstraints = false,
                KeyboardType = UIKeyboardType.Twitter,
                Font = UIFont.SystemFontOfSize(fontSize),
                AccessibilityIdentifier = "inputText",
            };

            inputText.Layer.BorderWidth = 1;
            inputText.Layer.BorderColor = UIColor.LightGray.CGColor;

            View.AddSubview(inputText);

            inputText.HeightAnchor.ConstraintEqualTo(View.HeightAnchor, 0.3f).Active = true;
            inputText.CenterXAnchor.ConstraintEqualTo(View.CenterXAnchor).Active = true;

            inputText.TopAnchor.ConstraintEqualTo(inputLabel.BottomAnchor, 5).Active = true;
            inputText.LeftAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.LeftAnchor).Active = true;
            inputText.RightAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.RightAnchor).Active = true;

            var toolBar = new UIToolbar
            {
                BarStyle = UIBarStyle.Default,
                TranslatesAutoresizingMaskIntoConstraints = false,
            };
            toolBar.HeightAnchor.ConstraintEqualTo(40).Active = true;
            toolBar.WidthAnchor.ConstraintEqualTo(View.Frame.Width).Active = true;

            var spacer = new UIBarButtonItem(UIBarButtonSystemItem.FlexibleSpace);
            var commitButton = new UIBarButtonItem(UIBarButtonSystemItem.Done);

            commitButton.Clicked += (s, e) => View.EndEditing(true);
            toolBar.SetItems(new UIBarButtonItem[] { spacer, commitButton }, false);
            inputText.InputAccessoryView = toolBar;

            translateButton = new UIButton(UIButtonType.RoundedRect)
            {
                Frame = new CGRect(0, 0, 375, 20),
                Opaque = false,
                ContentMode = UIViewContentMode.ScaleToFill,
                HorizontalAlignment = UIControlContentHorizontalAlignment.Center,
                VerticalAlignment = UIControlContentVerticalAlignment.Center,
                LineBreakMode = UILineBreakMode.MiddleTruncation,
                TranslatesAutoresizingMaskIntoConstraints = false,
                Font = UIFont.SystemFontOfSize(fontSize),
                AccessibilityIdentifier = "translateButton",
            };

            translateButton.SetTitle("è‹±èªã«ç¿»è¨³ã™ã‚‹", UIControlState.Normal);
            View.AddSubview(translateButton);

            translateButton.HeightAnchor.ConstraintEqualTo(40f).Active = true;
            translateButton.CenterXAnchor.ConstraintEqualTo(View.CenterXAnchor).Active = true;

            translateButton.TopAnchor.ConstraintEqualTo(inputText.BottomAnchor, 20).Active = true;
            translateButton.LeftAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.LeftAnchor).Active = true;
            translateButton.RightAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.RightAnchor).Active = true;

            translatedLabel = new UILabel
            {
                Frame = new CGRect(0, 0, 375, 20),
                Opaque = false,
                UserInteractionEnabled = false,
                ContentMode = UIViewContentMode.Left,
                Text = "ç¿»è¨³ã•ã‚ŒãŸè‹±èª",
                TextAlignment = UITextAlignment.Left,
                LineBreakMode = UILineBreakMode.TailTruncation,
                Lines = 0,
                BaselineAdjustment = UIBaselineAdjustment.AlignBaselines,
                AdjustsFontSizeToFitWidth = false,
                TranslatesAutoresizingMaskIntoConstraints = false,
                Font = UIFont.SystemFontOfSize(fontSize),
            };
            View.AddSubview(translatedLabel);

            translatedLabel.HeightAnchor.ConstraintEqualTo(20).Active = true;
            translatedLabel.CenterXAnchor.ConstraintEqualTo(View.CenterXAnchor).Active = true;

            translatedLabel.TopAnchor.ConstraintEqualTo(translateButton.BottomAnchor, 20).Active = true;
            translatedLabel.LeftAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.LeftAnchor).Active = true;
            translatedLabel.RightAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.RightAnchor).Active = true;

            translatedText = new UITextView
            {
                Frame = new CGRect(0, 0, 375, 200),
                ContentMode = UIViewContentMode.ScaleToFill,
                TranslatesAutoresizingMaskIntoConstraints = false,
                Font = UIFont.SystemFontOfSize(fontSize),
                AccessibilityIdentifier = "translatedText",
                Editable = false,
            };

            translatedText.Layer.BorderWidth = 1;
            translatedText.Layer.BorderColor = UIColor.LightGray.CGColor;

            View.AddSubview(translatedText);

            translatedText.HeightAnchor.ConstraintEqualTo(View.HeightAnchor, 0.3f).Active = true;
            translatedText.CenterXAnchor.ConstraintEqualTo(View.CenterXAnchor).Active = true;

            translatedText.TopAnchor.ConstraintEqualTo(translatedLabel.BottomAnchor, 5).Active = true;
            translatedText.LeftAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.LeftAnchor).Active = true;
            translatedText.RightAnchor.ConstraintEqualTo(View.LayoutMarginsGuide.RightAnchor).Active = true;
        }

        void SetBinding()
        {
            var set = this.CreateBindingSet<MainView, MainViewModel>();

            set.Bind(inputText).To(vm => vm.InputText);
            set.Bind(translatedText).To(vm => vm.TranslatedText);
            set.Bind(translateButton).To(vm => vm.TranslateCommand);

            set.Apply();
        }

    }
}
``` 
ã€€  
ã€€  ã€€  
ã€€  
## iOS ã‚¢ãƒ—ãƒªã®ãƒ‡ãƒãƒƒã‚° ##
ã€€  
ã€€  
ã§ã¯ã€ã“ã“ã§iOSã®ã‚¢ãƒ—ãƒªã‚’å®Ÿæ©Ÿãƒ‡ãƒãƒƒã‚°ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

å®Ÿæ©Ÿã‚’ãŠæŒã¡ã®æ–¹ã¯ã›ã£ã‹ãã§ã™ã‹ã‚‰å®Ÿæ©Ÿã§ãƒ‡ãƒãƒƒã‚°ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
ãŠæŒã¡ã§ãªã„æ–¹ã¯ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§ãƒ‡ãƒãƒƒã‚°ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
ã€€  
ã€€  
ã€€  
### ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ‡ãƒãƒƒã‚° ###
ã€€  
XamAppCenterSample2018.iOS > Debug > [ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã®æ©Ÿç¨®å] ã«è¨­å®šã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/debug001.png?raw=true)
ã€€  
ã€€  
ã€Œãƒ‡ãƒãƒƒã‚°ã®é–‹å§‹ã€ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/ios_build003.png?raw=true)
ã€€  
ã€€  
ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/ios_build004.png?raw=true)
ã€€  
ã€€  
é£œè¨³ãŒå‹•ä½œã™ã‚Œã°æˆåŠŸã§ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/ios_build005.png?raw=true)
ã€€  
ã€€  
### å®Ÿæ©Ÿãƒ‡ãƒãƒƒã‚° ###
ã€€  
å®Ÿæ©Ÿã‚’ãŠæŒã¡ã®æ–¹ã¯ã€ã“ã“ã§iOSã®ã‚¢ãƒ—ãƒªã‚’å®Ÿæ©Ÿãƒ‡ãƒãƒƒã‚°ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
iOSã®ã‚¢ãƒ—ãƒªã‚’å®Ÿæ©Ÿãƒ‡ãƒãƒƒã‚°ã™ã‚‹ã«ã¯Xcodeã§ãƒ€ãƒŸãƒ¼ã‚¢ãƒ—ãƒªã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ã€€  
ã€€  
#### Xcode ã§ã®ãƒ€ãƒŸãƒ¼ã‚¢ãƒ—ãƒªå®Ÿè¡Œ ####
ã€€  
ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚„è¨¼æ˜æ›¸ã®ç´ä»˜ã‘ãŒè‡ªå‹•ã§è¡Œã‚ã‚Œã‚‹ã‚ˆã†ã«Xcodeã§Swiftã®ãƒ€ãƒŸãƒ¼ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã™ã€‚

[File]->[New]->[Project]ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚

![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/dammy_app001.png?raw=true)
ã€€  
ã€€  
iOSã®Single View Applicationã‚’é¸æŠã—ã€[Next]ã‚’æŠ¼ã—ã¾ã™ã€‚

![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/dammy_app002.png?raw=true)
ã€€  
ã€€  
Product Name ã¯ XamAppCenterSample2018 ã«ã—ã¦ä¸‹ã•ã„ã€‚
Organization Identifier ã¯å…ˆã»ã©æ±ºã‚ãŸã‚‚ã®ã¨åŒä¸€ã®ã‚‚ã®ã«ã—ã¦ãã ã•ã„ã€‚
[Next]ã‚’æŠ¼ã—ã¾ã™ã€‚

![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/dammy_app003.png?raw=true)
ã€€  
ã€€  
<code>XamAppCenterSample2018Xcode</code>ã¨ã„ã†ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã€ãã®ä¸­ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¿å­˜ã—ã¦ãã ã•ã„ã€‚

![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/dammy_app004.png?raw=true)
ã€€  
ã€€  
Bundle Identifier ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã®ã‚’ç¢ºèªã—ã¦ä¸‹ã•ã„ã€‚

Signingã®éƒ¨åˆ†ãŒè‡ªå‹•ã§ä¿®æ­£ã•ã‚Œã¦ã€Provisioning Profile ã¨ Signing Certificate ã®éƒ¨åˆ†ã«ã‚¨ãƒ©ãƒ¼ã®ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¦ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

å·¦ä¸Šã®ãƒ‡ãƒãƒƒã‚°å®Ÿè¡Œã®éƒ¨åˆ†ã«ã”è‡ªåˆ†ã®iPhoneãŒèªè­˜ã•ã‚Œã¦ã„ã‚‹ã®ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
ã€€  
ã€€  
å…¨ã¦ç¢ºèªã§ããŸã‚‰ãƒ‡ãƒãƒƒã‚°å®Ÿè¡Œã—ã¾ã™ã€‚

![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/dammy_app005.png?raw=true)
ã€€  
ã€€  
ã‚‚ã—ã€ä»¥ä¸‹ã®è¡¨ç¤ºãŒå‡ºãŸå ´åˆã€[å¸¸ã«è¨±å¯]ã‚’æŠ¼ã—ã¾ã™ã€‚

![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/dammy_app006.png?raw=true)
ã€€  
ã€€  
ä»¥ä¸‹ã®è¡¨ç¤ºãŒå‡ºãŸã‚‰ã€æ¬¡ã®æ‰‹é †ã§å®Ÿæ©Ÿã®è¨­å®šã§é–‹ç™ºå…ƒã‚’ä¿¡é ¼ã•ã›ã¾ã™ã€‚

![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/dammy_app007.png?raw=true)
ã€€  
ã€€  
å®Ÿæ©Ÿã®è¨­å®šã‚¢ãƒ—ãƒªã‚’é–‹ã[ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ‡ãƒã‚¤ã‚¹ç®¡ç†]ã‚’é–‹ãã¾ã™ã€‚

![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/dammy_app008.png?raw=true)
ã€€  
ã€€  
ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘APPã«[Xcodeã«è¨­å®šã—ãŸApple ID]ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã®ã§ã‚¿ãƒƒãƒ—ã—ã¾ã™ã€‚

![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/dammy_app009.png?raw=true)
ã€€  
ã€€  
[Xcodeã«è¨­å®šã—ãŸApple ID]ã‚’ä¿¡é ¼ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ä¿¡é ¼ã•ã›ã¾ã™ã€‚

![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/dammy_app010.png?raw=true)
ã€€  
ã€€  
ä»¥ä¸‹ã®è¡¨ç¤ºãŒå‡ºãŸå ´åˆã€ã”è‡ªåˆ†ã® iPhoneã®ä¸­ ã« XamAppCenterSample2018 ã¨è¨€ã†åå‰ã®ã‚¢ãƒ—ãƒªãŒæ—¢ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚

![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/dammy_app011.png?raw=true)
ã€€  
ã€€  
å†åº¦ã€ãƒ‡ãƒãƒƒã‚°å®Ÿè¡Œã—ã€ç„¡äº‹ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¦çœŸã£ç™½ãªç”»é¢ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰æˆåŠŸã§ã™ã€‚
ã€€  
ã€€  
ã“ã‚Œã§ã€Xcode ã§ã®ãƒ€ãƒŸãƒ¼ã‚¢ãƒ—ãƒªå®Ÿè¡Œã¯å®Œäº†ã§ã™ã€‚
ã€€  
ã€€  
#### iOS ã‚¢ãƒ—ãƒªã®ãƒ“ãƒ«ãƒ‰ #### 
ã€€  
/XamAppCenterSample2018/XamAppCenterSample2018.iOS/Info.plist ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã¾ã™ã€‚
ã€€  
ã€Œãƒãƒ³ãƒ‰ãƒ«è­˜åˆ¥å­ã€ã®æ–‡å­—åˆ—ã‚’å…ˆã»ã© Xcode ã§è¨­å®šã—ãŸã€Bundle Identifier ã¨ä¸€å­—ä¸€å¥é•ã‚ãªã„ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/ios_build001.png?raw=true)
ã€€  
ã€€  
XamAppCenterSample2018.iOS > Debug > [ã‚ãªãŸã®iPhoneå] ã«è¨­å®šã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/ios_build002.png?raw=true)
ã€€  
ã€€  
ã€Œãƒ‡ãƒãƒƒã‚°ã®é–‹å§‹ã€ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/ios_build003.png?raw=true)
ã€€  
ã€€  
ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/ios_build004.png?raw=true)
ã€€  
ã€€  
é£œè¨³ãŒå‹•ä½œã™ã‚Œã°æˆåŠŸã§ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/ios_build005.png?raw=true)
ã€€  
ã€€  
## Android ã® ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã®è¨­å®š ## 

Android ã®ã‚¢ãƒ—ãƒªã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã‚’å¾¡è‡ªèº«ã®å›ºæœ‰ã®ã‚‚ã®ã«å¤‰æ›´ã—ã¦ä¸‹ã•ã„ã€‚
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å ã¯ XamAppCenterSample2018 ã«ã—ã¦ä¸‹ã•ã„ã€‚

![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/test001.png?raw=true)
ã€€  
ã€€  
## Android ã® View ã®ä½œæˆ ## 

/Droid/Resources/layout/Main.axml ã‚’é–‹ãã¾ã™ã€‚

Android ã® View ã‚’ä½œæˆã—ã¾ã™ã€‚
Android ã® axml ã¯ã€Git ã¨ã®ç›¸æ€§ã‚‚å•é¡ŒãŒãªã„ã®ã§ã€ãã®ã¾ã¾ axml ã«è¨˜è¿°ã—ã¾ã™ã€‚

ã€Œç¿»è¨³ã—ãŸã„æ—¥æœ¬èªãƒ©ãƒ™ãƒ«ã€inputTextView ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```xml
    <TextView
        android:text="@string/input"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:id="@+id/inputTextView" />
```
ã€€  
ã€€  
ã€Œç¿»è¨³ã—ãŸã„æ—¥æœ¬èªã®å…¥åŠ›æ¬„ã€inputText ã‚’è¿½åŠ ã—ã¾ã™ã€‚
ã¾ãŸã€Binding ã‚‚è¨˜è¿°ã—ã¾ã™ã€‚

local:MvxBind="[ViewÂ ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å] [ViewModel ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å]"
ã¨ã„ã†ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§è¨˜è¿°ã—ã¾ã™ã€‚

```xml
    <EditText
        android:inputType="textMultiLine"
        android:gravity="top|left"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:textSize="20sp"
        android:lines="7"
        local:MvxBind="Text InputText"
        android:id="@+id/inputText" />
```
ã€€  
ã€€  
ã€Œè‹±èªã«ç¿»è¨³ã™ã‚‹ãƒœã‚¿ãƒ³ã€translateButton ã‚’è¿½åŠ ã—ã¾ã™ã€‚
ã¾ãŸã€Binding ã‚‚è¨˜è¿°ã—ã¾ã™ã€‚

```xml
    <Button
        android:id="@+id/translateButton"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        local:MvxBind="Click TranslateCommand"
        android:text="@string/translate" />
```
ã€€  
ã€€  
ã€Œç¿»è¨³ã•ã‚ŒãŸè‹±èªã®ãƒ©ãƒ™ãƒ«ã€translatedTextView ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```xml
    <TextView
        android:text="@string/translated"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:id="@+id/translatedTextView" />
```
ã€€  
ã€€  
ã€Œç¿»è¨³ã•ã‚ŒãŸè‹±èªã®è¡¨ç¤ºæ¬„ã€translatedText ã‚’è¿½åŠ ã—ã¾ã™ã€‚
ã¾ãŸã€Binding ã‚‚è¨˜è¿°ã—ã¾ã™ã€‚

```xml
    <TextView
        android:inputType="textMultiLine"
        android:gravity="top|left"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:textSize="20sp"
        android:lines="7"
        local:MvxBind="Text TranslatedText"
        android:id="@+id/translatedText" />
```
ã€€  
ã€€  
ã“ã‚Œã§ã€Android ã® View ã¯å®Œæˆã§ã™ã€‚
å®Œæˆã—ãŸ axml ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:local="http://schemas.android.com/apk/res-auto"
    android:id="@+id/mainLayout"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent">
    <TextView
        android:text="@string/input"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:id="@+id/inputTextView" />
    <EditText
        android:inputType="textMultiLine"
        android:gravity="top|left"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:textSize="20sp"
        android:lines="7"
        local:MvxBind="Text InputText"
        android:id="@+id/inputText" />
    <Button
        android:id="@+id/translateButton"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        local:MvxBind="Click TranslateCommand"
        android:text="@string/translate" />
    <TextView
        android:text="@string/translated"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:id="@+id/translatedTextView" />
    <TextView
        android:inputType="textMultiLine"
        android:gravity="top|left"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:textSize="20sp"
        android:lines="7"
        local:MvxBind="Text TranslatedText"
        android:id="@+id/translatedText" />
</LinearLayout>
```
ã€€  
ã€€  
  ## æ–‡å­—åˆ—ãƒªã‚½ãƒ¼ã‚¹ã®è¨­å®š ## 

/Droid/Resources/values/Strings.xml ã‚’é–‹ãã¾ã™ã€‚

ç”»é¢ã«è¡¨ç¤ºã™ã‚‹æ–‡å­—åˆ—ãƒªã‚½ãƒ¼ã‚¹ã‚’è¨­å®šã—ã¾ã™ã€‚ 

```xml
    <TextView
        android:text="@string/translated"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:id="@+id/translatedTextView" />
```
ã€€  
ã€€  
## Android ã® ã‚³ãƒ¼ãƒ‰ãƒ“ãƒã‚¤ãƒ³ãƒ‰ ã®ä½œæˆ ## 

ã‚¢ãƒ—ãƒªã¨ã—ã¦ã®åŸºæœ¬å‹•ä½œã¯ View ã¨ ViewModel ã§å®Œæˆã—ã¦ã„ã¾ã™ãŒã€å…¥åŠ›å¾Œã«ã‚½ãƒ•ãƒˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’æ¶ˆã™å‹•ä½œãŒæŠœã‘ã¦ã„ã‚‹ã®ã§ã€ã‚³ãƒ¼ãƒ‰ãƒ“ãƒã‚¤ãƒ³ãƒ‰ã«è¨˜è¿°ã—ã¾ã™ã€‚
  
/Droid/Views/MainActivity.cs ã‚’é–‹ãã¾ã™ã€‚ 
ã€€  
ã€€  
ã¾ãšã¯ã€using ã‚’è¿½åŠ ã—ã¾ã™ã€‚  
  
```csharp
using Android.App;
using Android.Content;
using Android.Views;
using Android.Views.InputMethods;
using Android.OS;
using Android.Widget;
using MvvmCross.Platforms.Android.Views;
using MvvmCross.Platforms.Android.Binding;
using XamAppCenterSample2018.ViewModels;
```
ã€€  
ã€€  
MainActivity ã‚’ MvxActivity<MainViewModel> ã®æ´¾ç”Ÿã¨ã—ã¾ã™ã€‚
  
```csharp
    public class MainActivity : MvxActivity<MainViewModel>
```
ã€€  
ã€€  
UI ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å®šç¾©ã—ã¾ã™ã€‚

```csharp
        InputMethodManager inputMethodManager;
        LinearLayout mainLayout;
        EditText editText;
```  
ã€€  
ã€€  
ã‚½ãƒ•ãƒˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’æ¶ˆã™ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã—ã¾ã™ã€‚

```csharp
        void HideSoftInput()
        {
            inputMethodManager.HideSoftInputFromWindow(mainLayout.WindowToken, HideSoftInputFlags.NotAlways);
            mainLayout.RequestFocus(); 
        }
```
ã€€  
ã€€  
ç”»é¢ã®ä½•ã‚‚ç„¡ã„ã¨ã“ã‚ã‚’ã‚¿ãƒƒãƒã—ãŸã¨ãã«ã€ã‚½ãƒ•ãƒˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’æ¶ˆã™ã‚ˆã†ã«ã—ã¾ã™ã€‚

```csharp
        public override bool OnTouchEvent(MotionEvent e)
        {
            HideSoftInput();
            return false;
        }
```
ã€€  
ã€€  
ãƒœã‚¿ãƒ³ã‚„ç¿»è¨³å¾Œã®æ–‡ç« è¡¨ç¤ºéƒ¨åˆ†ã‚’ã‚¿ãƒƒãƒã—ãŸã¨ãã«ã€ã‚½ãƒ•ãƒˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’æ¶ˆã™ã‚ˆã†ã«ã—ã¾ã™ã€‚

```csharp
        protected override void OnCreate(Bundle bundle)
        {
            base.OnCreate(bundle);
            RequestWindowFeature(WindowFeatures.NoTitle);
            SetContentView(Resource.Layout.Main);

            editText = (EditText)FindViewById(Resource.Id.inputText);
            mainLayout = (LinearLayout)FindViewById(Resource.Id.mainLayout);
            inputMethodManager = (InputMethodManager)GetSystemService(Context.InputMethodService);

            var button = (Button)FindViewById(Resource.Id.translateButton);
            button.Click += (s, e) => HideSoftInput();

            var textView = (TextView)FindViewById(Resource.Id.translatedText);
            textView.Click += (s, e) => HideSoftInput();
        }
```
ã€€  
ã€€  
ã“ã‚Œã§ã€ã‚³ãƒ¼ãƒ‰ãƒ“ãƒã‚¤ãƒ³ãƒ‰ã¯å®Œæˆã§ã™ã€‚  
å®Œæˆã—ãŸã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```csharp
using Android.App;
using Android.Content;
using Android.Views;
using Android.Views.InputMethods;
using Android.OS;
using Android.Widget;
using MvvmCross.Platforms.Android.Views;
using MvvmCross.Platforms.Android.Binding;
using XamAppCenterSample2018.ViewModels;

namespace XamAppCenterSample2018.Droid
{
    [Activity(Label = "XamAppCenterSample2018", MainLauncher = true, Icon = "@mipmap/icon")]
    public class MainActivity : MvxActivity<MainViewModel>
    {
        InputMethodManager inputMethodManager;
        LinearLayout mainLayout;
        EditText editText;

        protected override void OnCreate(Bundle bundle)
        {
            base.OnCreate(bundle);
            RequestWindowFeature(WindowFeatures.NoTitle);
            SetContentView(Resource.Layout.Main);

            editText = (EditText)FindViewById(Resource.Id.inputText);
            mainLayout = (LinearLayout)FindViewById(Resource.Id.mainLayout);
            inputMethodManager = (InputMethodManager)GetSystemService(Context.InputMethodService);

            var button = (Button)FindViewById(Resource.Id.translateButton);
            button.Click += (s, e) => HideSoftInput();

            var textView = (TextView)FindViewById(Resource.Id.translatedText);
            textView.Click += (s, e) => HideSoftInput();
        }

        public override bool OnTouchEvent(MotionEvent e)
        {
            HideSoftInput();
            return false;
        }

        void HideSoftInput()
        {
            inputMethodManager.HideSoftInputFromWindow(mainLayout.WindowToken, HideSoftInputFlags.NotAlways);
            mainLayout.RequestFocus(); 
        }

    }
}
```
ã€€  
ã€€  
# ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ #
ã€€  
ã€€  
## AppInitializer ã®ä½œæˆ ## 
ã€€  
ã€€  
ãƒ†ã‚¹ãƒˆæ™‚ã«ã‚¢ãƒ—ãƒªã‚’åˆæœŸåŒ–ã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚
ã€€  
ã€€  
ã¾ãšã¯ã€using ã‚’è¿½åŠ ã—ã¾ã™ã€‚  
  
```csharp
using Xamarin.UITest;
```
ã€€  
ã€€  
ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚
  
```csharp
namespace XamAppCenterSample2018.UITests
{
    public class AppInitializer
    {
    }
}
```
ã€€  
ã€€  
ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åˆæœŸåŒ–ã€ã‚¢ãƒ—ãƒªã‚’é–‹å§‹ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ã¾ã™ã€‚

```csharp
namespace XamAppCenterSample2018.UITests
{
    public class AppInitializer
    {
        public static IApp StartApp(Platform platform)
        {
            if (platform == Platform.Android)
            {
                return ConfigureApp
                    .Android
                    .EnableLocalScreenshots()
                    .PreferIdeSettings()
                    .InstalledApp("<ã‚ãªãŸã®ã‚¢ãƒ—ãƒªã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å>")
                    .StartApp();
            }

            return ConfigureApp
                .iOS
                .EnableLocalScreenshots()
                .PreferIdeSettings()
                .InstalledApp("<ã‚ãªãŸã®ã‚¢ãƒ—ãƒªã®bundle ID>")
                .StartApp();
        }
    }
}
```
ã€€  
ã€€  
Android ã®ã‚¢ãƒ—ãƒªã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã¯ä»¥ä¸‹ã§ç¢ºèªã§ãã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/test001.png?raw=true)
ã€€  
ã€€  
iOS ã®ã‚¢ãƒ—ãƒªã® bundle ID ã¯ä»¥ä¸‹ã§ç¢ºèªã§ãã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/test002.png?raw=true)
ã€€  
ã€€  
ã“ã‚Œã§ã€AppInitializer ã¯å®Œæˆã§ã™ã€‚  
å®Œæˆã—ãŸã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
ã€€  
ã€€  
```csharp
using Xamarin.UITest;

namespace XamAppCenterSample2018.UITests
{
    public class AppInitializer
    {
        public static IApp StartApp(Platform platform)
        {
            if (platform == Platform.Android)
            {
                return ConfigureApp
                    .Android
                    .EnableLocalScreenshots()
                    .PreferIdeSettings()
                    .InstalledApp("<ã‚ãªãŸã®ã‚¢ãƒ—ãƒªã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å>")
                    .StartApp();
            }

            return ConfigureApp
                .iOS
                .EnableLocalScreenshots()
                .PreferIdeSettings()
                .InstalledApp("<ã‚ãªãŸã®ã‚¢ãƒ—ãƒªã®bundle ID>")
                .StartApp();
        }
    }
}
```
ã€€  
ã€€  
## ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆ ## 
ã€€  
ã€€  
ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚
ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã¯iOS, Android ã§å…±ç”¨ã—ã¾ã™ã€‚
ã€€  
ã€€  
ã¾ãšã¯ã€using ã‚’è¿½åŠ ã—ã¾ã™ã€‚  
  
```csharp
using System.Linq;
using System.Threading.Tasks;
using NUnit.Framework;
using Xamarin.UITest;
```
ã€€  
ã€€  
ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚
  
```csharp
namespace XamAppCenterSample2018.UITests
{
    [TestFixture(Platform.Android)]
    [TestFixture(Platform.iOS)]
    public class Tests
    {
    }
}
```
ã€€  
ã€€  
ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å®šç¾©ã—ã¾ã™ã€‚
  
```csharp
        IApp app;
        Platform platform;
```
ã€€  
ã€€  
ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã‚’å®šç¾©ã—ã¾ã™ã€‚
ã‚¢ãƒ—ãƒªã®èµ·å‹•æ™‚ã« iOS, Android ã‚’æŒ‡å®šã™ã‚‹ãŸã‚ã«ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’ä¿æŒã—ã¦ãŠãã¾ã™ã€‚
  
```csharp
        public Tests(Platform platform)
        {
            this.platform = platform;
        }
```
ã€€  
ã€€  
å„ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«ã‚¢ãƒ—ãƒªã‚’é–‹å§‹ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ã¾ã™ã€‚
<code>[SetUp]</code> Attribute ã‚’ä»˜åŠ ã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè¡Œå‰ã«å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
  
```csharp
        [SetUp]
        public void BeforeEachTest()
        {
            app = AppInitializer.StartApp(platform);
        }
```
ã€€  
ã€€  
ç¿»è¨³ãŒæˆåŠŸã™ã‚‹ã‚·ãƒŠãƒªã‚ªã®ãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ã¾ã™ã€‚
- <code>[Test]</code> Attribute ã‚’ä»˜åŠ ã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚
- <code>app.Tap</code>ã§ UI ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã‚’ã‚¿ãƒƒãƒ—ã—ã¾ã™ã€‚
- <code>c.Marked("inputText")</code>ã§ã‚¿ãƒƒãƒ—ã™ã‚‹UI ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã‚’æŒ‡å®šã—ã¾ã™ã€‚
- <code>Marked</code>ã§æŒ‡å®šã™ã‚‹ã‚­ãƒ¼ã¯ã€iOS ã§ã¯ <code>AccessibilityIdentifier</code>ã€Android ã§ã¯ <code>android:id</code>ã§è¨­å®šã—ã¾ã™ã€‚
- <code>app.DismissKeyboard()</code>ã§ã€ã‚½ãƒ•ãƒˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’æ¶ˆã—ã¾ã™ã€‚
- <code>app.Query</code>ã§ UI ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã‚’æ¤œç´¢ã—ã¾ã™ã€‚
- <code>Assert.AreEqual</code>ã§ã€UI ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã•ã‚ŒãŸç¿»è¨³å¾Œã®ãƒ†ã‚­ã‚¹ãƒˆãŒæ­£ã—ã„ã‹ç¢ºèªã—ã¦ã„ã¾ã™ã€‚
  
```csharp
        [Test]
        public async void SucceedTranslate()
        {
            await Task.Delay(2000);
            app.Tap(c => c.Marked("inputText"));
            await Task.Delay(2000);
            app.EnterText("ç§ã¯æ¯æ—¥é›»è»Šã«ä¹—ã£ã¦ä¼šç¤¾ã«è¡Œãã¾ã™ã€‚");
            await Task.Delay(2000);
            app.DismissKeyboard();
            await Task.Delay(2000);
            app.Tap(c => c.Button("translateButton"));
            await Task.Delay(4000);
            var elements = app.Query(c => c.Marked("translatedText"));
            await Task.Delay(2000);
            Assert.AreEqual("I go to the office by train every day.", elements.FirstOrDefault().Text);
        }
```
ã€€  
ã€€  
ç¿»è¨³ã—ãŸã„æ—¥æœ¬èªãŒæœªå…¥åŠ›ã®ç‚ºã€ç¿»è¨³ãŒå¤±æ•—ã™ã‚‹ã‚·ãƒŠãƒªã‚ªã®ãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ã¾ã™ã€‚
- <code>StringAssert.Contains</code>ã§ã€UI ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã•ã‚ŒãŸç¿»è¨³å¾Œã®ãƒ†ã‚­ã‚¹ãƒˆã«æŒ‡å®šã•ã‚ŒãŸæ–‡å­—åˆ—ãŒå…¥ã£ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ã„ã¾ã™ã€‚
  
```csharp
        [Test]
        public async void FailTranslate()
        {
            await Task.Delay(2000);
            app.Tap(c => c.Button("translateButton"));
            await Task.Delay(4000);
            var elements = app.Query(c => c.Marked("translatedText"));
            await Task.Delay(2000);
            StringAssert.Contains("ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ï¼š 400005", elements.FirstOrDefault().Text);
        }
```
ã€€  
ã€€  
ã“ã‚Œã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã¯å®Œæˆã§ã™ã€‚  
å®Œæˆã—ãŸã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
ã€€  
```csharp
using System.Linq;
using System.Threading.Tasks;
using NUnit.Framework;
using Xamarin.UITest;

namespace XamAppCenterSample2018.UITests
{
    [TestFixture(Platform.Android)]
    [TestFixture(Platform.iOS)]
    public class Tests
    {
        IApp app;
        Platform platform;

        public Tests(Platform platform)
        {
            this.platform = platform;
        }

        [SetUp]
        public void BeforeEachTest()
        {
            app = AppInitializer.StartApp(platform);
        }

        [Test]
        public async void SucceedTranslate()
        {
            await Task.Delay(2000);
            app.Tap(c => c.Marked("inputText"));
            await Task.Delay(2000);
            app.EnterText("ç§ã¯æ¯æ—¥é›»è»Šã«ä¹—ã£ã¦ä¼šç¤¾ã«è¡Œãã¾ã™ã€‚");
            await Task.Delay(2000);
            app.DismissKeyboard();
            await Task.Delay(2000);
            app.Tap(c => c.Button("translateButton"));
            await Task.Delay(4000);
            var elements = app.Query(c => c.Marked("translatedText"));
            await Task.Delay(2000);
            Assert.AreEqual("I go to the office by train every day.", elements.FirstOrDefault().Text);
        }

        [Test]
        public async void FailTranslate()
        {
            await Task.Delay(2000);
            app.Tap(c => c.Button("translateButton"));
            await Task.Delay(4000);
            var elements = app.Query(c => c.Marked("translatedText"));
            await Task.Delay(2000);
            StringAssert.Contains("ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ï¼š 400005", elements.FirstOrDefault().Text);
        }
    }
}
```
ã€€  
ã€€  

ã€€  
# App Center åˆ©ç”¨ã®ç‚ºã®ç’°å¢ƒæ§‹ç¯‰ #
ã§ã¯ã€ã“ã‚Œã‹ã‚‰ App Center ã§ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚
ã€€  
ã€€  
## node.js ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ## 

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ node.js ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ç¢ºèªã§ãã¾ã™ã€‚
```bash
node -v 
```
ã€€  
ä»¥ä¸‹ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã‚Œã°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
```bash
-bash: node: command not found
```
ã€€  
ã€€  
### Homebrewï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼‰ ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ### 
ã€€  
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
```bash
/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
```
ã€€  
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹ã‹ç¢ºèªã•ã‚Œã‚‹ã®ã§ RETRUN ã—ã¾ã™ã€‚
```bash
Press RETURN to continue or any other key to abort
```
ã€€  
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒçµ‚ã‚ã‚‹ã¾ã§å¾…ã¡ã¾ã™ã€‚
ä»¥ä¸‹ã®ã‚ˆã†ã« Xcode ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ãªã©ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã®ã§çµæ§‹æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚
```bash
Downloading Command Line Tools (macOS High Sierra version 10.13) for Xcode
Downloaded Command Line Tools (macOS High Sierra version 10.13) for Xcode
Installing Command Line Tools (macOS High Sierra version 10.13) for Xcode
```
ã€€  
é€”ä¸­ã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’èã‹ã‚ŒãŸã‚‰å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
ã€€  
ã€€  
ä¸‹è¨˜ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã‚Œã°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«çµ‚äº†ã§ã™ã€‚
```bash
==> Installation successful!

==> Homebrew has enabled anonymous aggregate user behaviour analytics.
Read the analytics documentation (and how to opt-out) here:
  https://docs.brew.sh/Analytics.html

==> Next steps:
- Run `brew help` to get started
- Further documentation: 
    https://docs.brew.sh
```
ã€€  
ã€€  
### nodebrew ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ### 
ã€€  
æ¬¡ã«nodebrewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
ã€€  
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
```bash
brew install nodebrew
```
ã€€  
ä¸‹è¨˜ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã‚Œã°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«çµ‚äº†ã§ã™ã€‚
```bash
ğŸº  /usr/local/Cellar/nodebrew/1.0.0: 8 files, 38.4KB, built in 5 seconds
```
ã€€  
å¿µã®ãŸã‚ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒæ­£å¸¸ã«å®Œäº†ã—ãŸã‹ç¢ºèªã—ã¾ã™ã€‚
```bash
nodebrew -v
```
ã€€  
nodebrewã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†ã§ã™ã€‚
```bash
nodebrew 1.0.0

Usage:
    nodebrew help                         Show this message
    nodebrew install <version>            Download and install <version> (from binary)
    nodebrew compile <version>            Download and install <version> (from source)
    nodebrew install-binary <version>     Alias of `install` (For backword compatibility)
    nodebrew uninstall <version>          Uninstall <version>
    nodebrew use <version>                Use <version>
    nodebrew list                         List installed versions
    nodebrew ls                           Alias for `list`
    nodebrew ls-remote                    List remote versions
    nodebrew ls-all                       List remote and installed versions
    nodebrew alias <key> <value>          Set alias
    nodebrew unalias <key>                Remove alias
    nodebrew clean <version> | all        Remove source file
    nodebrew selfupdate                   Update nodebrew
    nodebrew migrate-package <version>    Install global NPM packages contained in <version> to current version
    nodebrew exec <version> -- <command>  Execute <command> using specified <version>

Example:
    # install
    nodebrew install v8.9.4

    # use a specific version number
    nodebrew use v8.9.4
```
ã€€  
ã€€  
### node.js ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ### 
ã€€  
ã„ã‚ˆã„ã‚ˆ node.js ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
ã€€  
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
```bash
nodebrew install-binary latest
```
ã€€  
æ€’ã‚‰ã‚Œã¦ã—ã¾ã„ã¾ã—ãŸã€‚
```bash
Fetching: https://nodejs.org/dist/v10.7.0/node-v10.7.0-darwin-x64.tar.gz
Warning: Failed to create the file 
Warning: /Users/hiro128/.nodebrew/src/v10.7.0/node-v10.7.0-darwin-x64.tar.gz: 
Warning: No such file or directory
                                                                           0.0%
curl: (23) Failed writing body (0 != 1057)
download failed: https://nodejs.org/dist/v10.7.0/node-v10.7.0-darwin-x64.tar.gz
```
ã€€  
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒç„¡ã„ã‚ˆã†ãªã®ã§ã€mkdirã‚’ã—ã¦ã€
```bash
mkdir ~/.nodebrew
mkdir ~/.nodebrew/src
```
ã€€  
ãƒªãƒˆãƒ©ã‚¤ã—ã¾ã™ã€‚
```bash
nodebrew install-binary latest
```
ã€€  
ä¸‹è¨˜ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã‚Œã°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«çµ‚äº†ã§ã™ã€‚
```bash
Fetching: https://nodejs.org/dist/v10.7.0/node-v10.7.0-darwin-x64.tar.gz
######################################################################## 100.0%
Installed successfully
```
ã€€  
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸ node.js ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚
```bash
nodebrew list
```
ã€€  
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã€ç¾åœ¨æœ‰åŠ¹ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
```bash
v10.7.0
ã€€  
current: none
```
ã€€  
ä½¿ç”¨ã™ã‚‹ node.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æœ‰åŠ¹åŒ–ã—ã¾ã™ã€‚
```bash
nodebrew use v10.7.0
```
ã€€  
ç¢ºèªã®ãŸã‚ã«listã‚’å®Ÿè¡Œã—ã€
```bash
nodebrew list
```
ã€€  
æŒ‡å®šã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å¤‰ã‚ã£ã¦ã„ã‚Œã°æˆåŠŸã§ã™ã€‚
```bash
v10.7.0
ã€€  
current: v10.7.0
```
ã€€  
ã€€  
### ãƒ‘ã‚¹ã‚’é€šã™ ### 
ã€€  
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§nodeã‚³ãƒãƒ³ãƒ‰ã¸ãƒ‘ã‚¹ã‚’bashrcã¸ä¿å­˜ã—ã¾ã™ã€‚
```bash
echo 'export PATH=$PATH:/Users/<ã‚ãªãŸã®home>/.nodebrew/current/bin' >> ~/.bashrc
```
ã€€  
node.js ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’èªã—ã¾ã™ã€‚
```bash
node -v
```
ã€€  
ã†ã¾ãã„ã£ã¦ã„ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
```bash
node -v
v10.7.0
```
ã€€  
ã§ã™ãŒã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºãŸå ´åˆã¯ã€ã†ã¾ãã„ã£ã¦ã¾ã›ã‚“ã€‚
```bash
node -v
-bash: node: command not found
```
ã€€  
å…ˆã»ã©ã€Œ.bashrcã€ã«æ›¸ãè¾¼ã‚“ã ãƒ‘ã‚¹ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ãªã„ã‚ˆã†ãªã®ã§ã€
ã€Œ.bash_profileã€ã«ã‚³ãƒãƒ³ãƒ‰ã‚’è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ã€€  
ã¾ãšã€.bash_profile ãŒå­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹ç¢ºèªã—ã¾ã™ã€‚
```bash
ls -la
```
ã€€  
å­˜åœ¨ã—ãªã„å ´åˆã€ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã—ã¾ã™ã€‚
```bash
touch .bash_profile
```
ã€€  
ä½œæˆã§ããŸã‹ç¢ºèªã—ã¾ã—ã‚‡ã†
```bash
ls -la
```
ã€€  
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/bash001.png?raw=true)
ã€€  
.bash_profileã‚’é–‹ãã¾ã™ã€‚
```bash
open ~/.bash_profile
```
ã€€  
ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ãŒé–‹ãã®ã§ä¸‹è¨˜ã‚’è¨˜è¿°ã—ã¾ã™ã€‚
```bash
if [ -f ~/.bashrc ] ; then
. ~/.bashrc
fi
```
ã€€  
è¨­å®šã‚’åæ˜ ã•ã›ã¾ã™ã€‚
```bash
source ~/.bash_profile
```
ã€€  
å†åº¦ node.js ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚
```bash
node -v
```
ã€€  
ã†ã¾ãã„ã£ã¦ã„ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
```bash
node -v
v10.7.0
```
ã€€  
ä»¥ä¸Šã§ã€node.js ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã§ã™ã€‚
ã€€  
ã€€  
## App Center CLI ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ## 
ã€€  
ã€€  
ã§ã¯ã€æ¬¡ã« App Center CLI ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
ã“ã‚Œã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªã„ã¨ãƒ†ã‚¹ãƒˆã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãªã©ãŒã§ãã¾ã›ã‚“ã€‚
ã€€  
ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
npm install -g appcenter-cli
```
ã€€  
ã€€  
æ¨©é™ãŒç„¡ã„ã¨æ€’ã‚‰ã‚Œã¦ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«å¤±æ•—ã™ã‚‹å ´åˆã€ä¸‹è¨˜ã®æ‰‹é †ã§npmã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ¨©é™ã‚’å¤‰æ›´ã—ã¾ã™ã€‚

npm ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹ã‚’ç¢ºèª
```bash
npm config get prefix
```
ã€€  
ã€€  
ï¼ˆä¾‹ï¼‰/usr/local ãŒè¡¨ç¤ºã•ã‚ŒãŸå ´åˆã€
npm ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚ªãƒ¼ãƒŠãƒ¼ã‚’è‡ªåˆ†ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«å¤‰æ›´
```bash
sudo chown -R <ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå> /usr/local/lib/node_modules
sudo chown -R <ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå> /usr/local/bin
sudo chown -R <ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå> /usr/local/share
```
ã€€  
ã€€  
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒçµ‚ã‚ã‚Œã°æº–å‚™å®Œäº†ã§ã™ã€‚
ã€€  
ã€€  
# ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ãƒªãƒã‚¸ãƒˆãƒªã«ãƒ—ãƒƒã‚·ãƒ¥ # 
ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ã€VSTS, Github, Bitbucketã®ã„ãšã‚Œã‹ã«ãƒ—ãƒƒã‚·ãƒ¥ã—ä¸‹ã•ã„ã€‚ 
ã€€  
ã€€  
# iOSã®è‡ªå‹•ãƒ“ãƒ«ãƒ‰ã‚’è¨­å®šã™ã‚‹ #
ã€€  
ã€€  
## è¨¼æ˜æ›¸ã€Provisioning Profile ã®ä½œæˆï¼ˆå®Ÿæ©Ÿè‡ªå‹•ãƒ“ãƒ«ãƒ‰ã—ãŸã„å ´åˆã®ã¿ï¼‰ ##
Apple Developer Program ã®ã‚µã‚¤ãƒˆã§è¨¼æ˜æ›¸ï¼ˆ.cerï¼‰ã€Provisioning Profileï¼ˆ.mobileprovisionï¼‰ ã‚’ä½œæˆã—ã€ãƒ­ãƒ¼ã‚«ãƒ«ã® Mac ã® ã‚­ãƒ¼ãƒã‚§ãƒ¼ãƒ³ã‚¢ã‚¯ã‚»ã‚¹ ã§ è¨¼æ˜æ›¸ï¼ˆ.p12ï¼‰ ã‚’ä½œæˆã—ã¾ã™ã€‚
ã“ã®æ–¹æ³•ã«ã¤ã„ã¦ã¯Webä¸Šã«æƒ…å ±ãŒãŸãã•ã‚“ã‚ã‚‹ã®ã§ã€Webã®æƒ…å ±ã‚’å‚è€ƒã«è¡Œãªã£ã¦ãã ã•ã„ã€‚
ã€€  
ã€€  
ä½œæˆã—ãŸ Provisioning Profileï¼ˆ.mobileprovisionï¼‰ã€è¨¼æ˜æ›¸ï¼ˆ.p12ï¼‰ã‚’ä¿ç®¡ã—ã¦ãŠãã¾ã™ã€‚
ã€€  
ã€€  
## App Center ã§ iOS ã® App ã®ä½œæˆ ##
ã€€  
ã€€  
ã“ã“ã‹ã‚‰ã¯ã€å®Ÿæ©Ÿè‡ªå‹•ãƒ“ãƒ«ãƒ‰ã€ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿è‡ªå‹•ãƒ“ãƒ«ãƒ‰å…±é€šã®æ‰‹é †ã§ã™ã€‚
ã€€  
ã€€  
App Center ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã€å³ä¸Šã®ã€Œadd newã€ã‹ã‚‰ã€Œadd new appã€ã‚’é¸æŠ
ã€€  
ã€€  
App Name, OS, Platform ã‚’å…¥åŠ›ã€é¸æŠã—ã€ã€ŒAdd new appã€ã‚’ã‚¯ãƒªãƒƒã‚¯
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/006.png?raw=true)
ã€€  
ã€€  
## App Center ã§ iOS ã®ãƒ“ãƒ«ãƒ‰ã®è¨­å®š ##
ã€€  
ã€€  
ã€ŒBuildã€ã‚’é¸æŠã—ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ãƒ›ã‚¹ãƒˆã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’é¸æŠã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/007.png?raw=true)
ã€€  
ã€€  
ã€ŒXamAppCenterSample2018ã€ã‚’é¸æŠã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/008.png?raw=true)
ã€€  
ã€€  
è‡ªå‹•ãƒ“ãƒ«ãƒ‰ã—ãŸã„ãƒ–ãƒ©ãƒ³ãƒã®è¨­å®šã‚¢ã‚¤ã‚³ãƒ³ã‚’é¸æŠã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/009.png?raw=true)
ã€€  
ã€€  
ãƒ“ãƒ«ãƒ‰è¨­å®šã‚’é¸æŠã—ã€å…¥åŠ›ã—ã€ã€ŒSave & Buildã€ã‚’é¸æŠã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/010.png?raw=true)
ã€€  
ã€€  
ãƒ“ãƒ«ãƒ‰ãŒå§‹ã¾ã‚‹ã®ã§ã—ã°ã‚‰ãå¾…ã¡ã€æˆåŠŸã™ã‚Œã°å®Œäº†ã§ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/011.png?raw=true)
ã€€  
ã€€  
# iOS ã® è‡ªå‹• UITest ã‚’è¨­å®š #
ã€€  
ã€€  
## ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¸€åº¦ãƒ“ãƒ«ãƒ‰ ##
ã€€  
ã€€  
XamAppCenterSample2018.UITests ã‚’ä¸€åº¦ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/015a.png?raw=true)
ã€€  
ã€€  
## API Key ã‚’è¨­å®š ##
ã€€  
ã€€  
å…ˆã»ã© Azure ã§ä½œæˆã—ãŸ API Key ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¨˜è¿°ã—ã¾ã™ã€‚
ï¼ˆAPI Key ã‚’å«ã‚€ã‚½ãƒ¼ã‚¹ã‚’ãƒ—ãƒƒã‚·ãƒ¥ã—ãªã„ã§ä¸‹ã•ã„ï¼‰
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/011a.png?raw=true)

## ç½²åãªã—ã® ipa ã®ä½œæˆ ##
ã€€  
ã€€  
iOSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ Debug ã§ å®Ÿæ©Ÿãƒ“ãƒ«ãƒ‰ã«è¨­å®šã—ã¾ã™ã€‚
ã€Œå˜ä½“ãƒ†ã‚¹ãƒˆã€ã‚¿ãƒ–ã‚’é–‹ãã€ã€Œã‚¢ãƒ—ãƒªã®ãƒ†ã‚¹ãƒˆã€->ã€ŒAdd App Projectã€
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/012.png?raw=true)
ã€€  
ã€€  
iOSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/013.png?raw=true)
ã€€  
ã€€  
ã€Œãƒ†ã‚¹ãƒˆã®ãƒ‡ãƒãƒƒã‚°ã€ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/014.png?raw=true)
ã€€  
ã€€  
å®Œäº†ã—ãŸã‚‰ã€Finder ã§iOSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ç½²åã¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€ipaãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/015.png?raw=true)
ã€€  
ã€€  
## App Center ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è»¢é€ã—ã€ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ ##
ã€€  
ã€€  
ã€ŒTestã€ -> ã€Œnew test runã€ã‚’ã‚¯ãƒªãƒƒã‚¯
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/016.png?raw=true)
ã€€  
ã€€  
ã€ŒStart 30-day trialã€ã‚’ã‚¯ãƒªãƒƒã‚¯
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/017.png?raw=true)
ã€€  
ã€€  
iOS 11 ã®ãƒ‡ãƒã‚¤ã‚¹ã‚’é¸æŠ
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/018.png?raw=true)
ã€€  
ã€€  
Test series, System language, Test frameworkã‚’é¸æŠ
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/019.png?raw=true)
ã€€  
ã€€  
ç”»é¢ã«è¡¨ç¤ºã•ã‚ŒãŸãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’å‚è€ƒã«ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆã™ã‚‹ã€‚ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã«ã¯ã€--uitest-tools-dirã€€ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„ãŒè¿½åŠ ã§æŒ‡å®šã™ã‚‹ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/020.png?raw=true)

```bash
appcenter test run uitest --app <App Center ã®URLã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã®åå‰>
 --devices <ãƒ‡ãƒã‚¤ã‚¹ã®ID> --app-path <ipaã®ãƒ‘ã‚¹> --test-series "master" --locale "ja_JP"
 --build-dir <UITestãŒãƒ“ãƒ«ãƒ‰ã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹> --uitest-tools-dir <test-cloud.exeã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹>
```
ã€€  
ã€€  
ï¼ˆä¾‹ï¼‰
```bash
appcenter test run uitest --app "TomohiroSuzuki128/XamAppCenterSample2018iOS"
 --devices 1b6ada99
 --app-path "/Users/hiro128/Projects/XamAppCenterSample2018/src/iOS/bin/iPhone/Debug/device-builds/iphone10.2-11.3.1/XamAppCenterSample2018.iOS.ipa"
 --test-series "master" --locale "ja_JP"
 --build-dir "/Users/hiro128/Projects/XamAppCenterSample2018/src/UITests/bin/Debug/"
 --uitest-tools-dir "/Users/hiro128/Projects/XamAppCenterSample2018/src/packages/Xamarin.UITest.2.2.4/tools"
```  
ã€€  
ã€€  
ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ App Center ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™

```bash
appcenter login
``` 
ã€€  
ã€€  
ãƒ–ãƒ©ã‚¦ã‚¶ã«è¡¨ç¤ºã•ã‚ŒãŸèªè¨¼ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å…¥åŠ›ã—ã¾ã™ã€‚
ã€€  
ã€€  
ä¸Šã§ä½œæˆã—ãŸã€appcenter test run uitest ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
ã€€  
ã€€  
ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/021.png?raw=true)
ã€€  
ã€€  
ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã™ã‚Œã°å®Œäº†ã§ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/022.png?raw=true)
ã€€  
ã€€  
# Android ã®è‡ªå‹•ãƒ“ãƒ«ãƒ‰ã‚’è¨­å®šã™ã‚‹ #
ã€€  
ã€€  
## App Center ã§ Android ã® App ã®ä½œæˆ ##
ã€€  
ã€€  
App Center ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã€å³ä¸Šã®ã€Œadd newã€ã‹ã‚‰ã€Œadd new appã€ã‚’é¸æŠ
ã€€  
ã€€  
App Name, OS, Platform ã‚’å…¥åŠ›ã€é¸æŠã—ã€ã€ŒAdd new appã€ã‚’ã‚¯ãƒªãƒƒã‚¯
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/023.png?raw=true)
ã€€  
ã€€  
## App Center ã§ Android ã®ãƒ“ãƒ«ãƒ‰ã®è¨­å®š ##
ã€€  
ã€€  
ã€ŒBuildã€ã‚’é¸æŠã—ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ãƒ›ã‚¹ãƒˆã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’é¸æŠã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/024.png?raw=true)
ã€€  
ã€€  
ã€ŒXamAppCenterSample2018ã€ã‚’é¸æŠã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/008.png?raw=true)
ã€€  
ã€€  
è‡ªå‹•ãƒ“ãƒ«ãƒ‰ã—ãŸã„ãƒ–ãƒ©ãƒ³ãƒã®è¨­å®šã‚¢ã‚¤ã‚³ãƒ³ã‚’é¸æŠã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/009.png?raw=true)
ã€€  
ã€€  
ãƒ“ãƒ«ãƒ‰è¨­å®šã‚’é¸æŠã—ã€å…¥åŠ›ã—ã€ã€ŒSave & Buildã€ã‚’é¸æŠã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/025.png?raw=true)
ã€€  
ã€€  
ãƒ“ãƒ«ãƒ‰ãŒå§‹ã¾ã‚‹ã®ã§ã—ã°ã‚‰ãå¾…ã¡ã€æˆåŠŸã™ã‚Œã°å®Œäº†ã§ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/026.png?raw=true)
ã€€  
ã€€  
# Android ã® è‡ªå‹• UITest ã‚’è¨­å®š #
  
  
## ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¸€åº¦ãƒ“ãƒ«ãƒ‰ ##

XamAppCenterSample2018.UITests ã‚’ä¸€åº¦ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/015a.png?raw=true)

## API Key ã‚’è¨­å®š ##

å…ˆã»ã© Azure ã§ä½œæˆã—ãŸ API Key ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¨˜è¿°ã—ã¾ã™ã€‚
ï¼ˆiOSã®æ™‚ã«è¨˜è¿°ã—ã¦ã„ã‚Œã°ä¸è¦ï¼‰
ï¼ˆAPI Key ã‚’å«ã‚€ã‚½ãƒ¼ã‚¹ã‚’ãƒ—ãƒƒã‚·ãƒ¥ã—ãªã„ã§ä¸‹ã•ã„ï¼‰
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/011a.png?raw=true)
  
  
## ç½²åãªã—ã® apk ã®ä½œæˆ ##
  
  
Androidãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ Release ã§ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ“ãƒ«ãƒ‰ã«è¨­å®šã—ã¾ã™ã€‚
ã€Œç™ºè¡Œã®ãŸã‚ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã€ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/027.png?raw=true)
  
  
ãƒ“ãƒ«ãƒ‰ãŒå®Œäº†ã—ãŸã‚‰ã€Finder ã§Androidãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ç½²åã¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€apkãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/028.png?raw=true)
  
  
## App Center ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è»¢é€ã—ã€ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ ##

ã€ŒTestã€ -> ã€Œnew test runã€ã‚’ã‚¯ãƒªãƒƒã‚¯
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/029.png?raw=true)


ã€ŒStart 30-day trialã€ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆè¡¨ç¤ºã•ã‚ŒãŸå ´åˆã®ã¿ï¼‰
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/017.png?raw=true)


Android 7.0 ã®ãƒ‡ãƒã‚¤ã‚¹ã‚’é¸æŠ
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/030.png?raw=true)


Test series, System language, Test frameworkã‚’é¸æŠ
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/031.png?raw=true)
  
  
ç”»é¢ã«è¡¨ç¤ºã•ã‚ŒãŸãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’å‚è€ƒã«ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆã™ã‚‹ã€‚ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã«ã¯ã€--uitest-tools-dirã€€ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„ãŒè¿½åŠ ã§æŒ‡å®šã™ã‚‹ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/032.png?raw=true)
  
  
```bash
appcenter test run uitest --app <App Center ã®URLã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã®åå‰>
 --devices <ãƒ‡ãƒã‚¤ã‚¹ã®ID> --app-path <apkã®ãƒ‘ã‚¹> --test-series "master" --locale "ja_JP"
 --build-dir <UITestãŒãƒ“ãƒ«ãƒ‰ã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹> --uitest-tools-dir <test-cloud.exeã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹>
```

ï¼ˆä¾‹ï¼‰
```bash
appcenter test run uitest --app "TomohiroSuzuki128/XamAppCenterSample2018Droid" --devices c8376925 --app-path "/Users/hiro128/Projects/XamAppCenterSample2018/src/Droid/bin/Release/com.hiro128777.XamAppCenterSample2018.apk" --test-series "master" --locale "ja_JP" --build-dir "/Users/hiro128/Projects/XamAppCenterSample2018/src/UITests/bin/Debug/" --uitest-tools-dir "/Users/hiro128/Projects/XamAppCenterSample2018/src/packages/Xamarin.UITest.2.2.4/tools"

```  

ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ App Center ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ï¼ˆã¾ã ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ãªã„å ´åˆï¼‰

```bash
appcenter login
``` 

ãƒ–ãƒ©ã‚¦ã‚¶ã«è¡¨ç¤ºã•ã‚ŒãŸèªè¨¼ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å…¥åŠ›ã—ã¾ã™ã€‚

ä¸Šã§ä½œæˆã—ãŸã€appcenter test run uitest ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/033.png?raw=true)

ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã™ã‚Œã°å®Œäº†ã§ã™ã€‚
![](https://github.com/TomohiroSuzuki128/XamAppCenterSample2018/blob/develop/images/034.png?raw=true) 



